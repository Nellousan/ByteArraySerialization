\hypertarget{serialization_8cpp-example}{}\section{serialization.\+cpp}
A simple example on how to serialize a class.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{** ByteArraySerialisation}}
\DoxyCodeLine{\textcolor{comment}{** File description:}}
\DoxyCodeLine{\textcolor{comment}{** Serialization example}}
\DoxyCodeLine{\textcolor{comment}{*/}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "\mbox{\hyperlink{bas_8hpp}{bas.hpp}}"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class }SerializablePerson : \textcolor{keyword}{public} \mbox{\hyperlink{classbas_1_1Serializable}{bas::Serializable}} \{                      \textcolor{comment}{// inherit from the Serializable class}}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{    SerializablePerson(\textcolor{keyword}{const} std::string\& name, \textcolor{keywordtype}{int} age)}
\DoxyCodeLine{        : name(name)}
\DoxyCodeLine{        , age(age)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    ~SerializablePerson() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// this function contains the serialization process of your class}}
\DoxyCodeLine{    \textcolor{keywordtype}{void} \mbox{\hyperlink{classbas_1_1Serializable_a013fd7c7acd4979418a7d30651a4b135}{makeSerialization}}(\mbox{\hyperlink{classbas_1_1SerializedObject}{bas::SerializedObject}}\& obj)\textcolor{keyword}{ override}}
\DoxyCodeLine{\textcolor{keyword}{    }\{}
\DoxyCodeLine{        obj.\mbox{\hyperlink{classbas_1_1SerializedObject_ae6d94b4b6c3d77dad3aab140ea6f7ca1}{pushData}}(name);                                                \textcolor{comment}{// Notice that the library contains a custom variant of pushData and popData for std::string}}
\DoxyCodeLine{        obj.\mbox{\hyperlink{classbas_1_1SerializedObject_ae6d94b4b6c3d77dad3aab140ea6f7ca1}{pushData}}(age);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// this function contains the unserialization process of your class}}
\DoxyCodeLine{    \textcolor{keywordtype}{void} \mbox{\hyperlink{classbas_1_1Serializable_af46002b3532fb719fa47e1d7cc731dd2}{makeUnserialization}}(\mbox{\hyperlink{classbas_1_1SerializedObject}{bas::SerializedObject}}\& obj)\textcolor{keyword}{ override}}
\DoxyCodeLine{\textcolor{keyword}{    }\{}
\DoxyCodeLine{        name = obj.\mbox{\hyperlink{classbas_1_1SerializedObject_aad2a332aaecd0fba8eac2bf06b60d5df}{popData}}<std::string>();}
\DoxyCodeLine{        age = obj.\mbox{\hyperlink{classbas_1_1SerializedObject_aad2a332aaecd0fba8eac2bf06b60d5df}{popData}}<\textcolor{keywordtype}{int}>();}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    std::string name;}
\DoxyCodeLine{    \textcolor{keywordtype}{int} age;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{    SerializablePerson person1(\textcolor{stringliteral}{"David"}, 32);}
\DoxyCodeLine{    SerializablePerson person2(\textcolor{stringliteral}{"Robert"}, 45);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{classbas_1_1SerializedObject}{bas::SerializedObject}} obj;}
\DoxyCodeLine{}
\DoxyCodeLine{    obj = person1.serialize();                                             \textcolor{comment}{// Use serialize() and not makeSerialization()}}
\DoxyCodeLine{}
\DoxyCodeLine{    person2.unserialize(obj);                                              \textcolor{comment}{// Use unserialize() and not makeUnserialization()}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// person2 is now a copy of person1}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}
\end{DoxyCodeInclude}
 